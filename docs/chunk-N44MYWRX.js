import{$ as Y,A as u,B as g,C as h,D as s,G as d,K as b,Q as w,U as T,X as k,Y as V,Z as E,_ as I,a as x,b as P,ba as D,c as y,ca as $,d as M,f as l,g as _,m as p,o as C,p as O,s as m,t as f,v as F,w as S,x as v,y as i,z as r}from"./chunk-5LPV6B2C.js";var X=(n,e)=>e.id;function z(n,e){if(n&1){let t=g();i(0,"app-search-autocomplete",10),h("searchChange",function(o){l(t);let c=s();return _(c.onSearchChange(o))})("suggestionSelected",function(o){l(t);let c=s();return _(c.onSuggestionSelected(o))}),r()}}function j(n,e){if(n&1&&(i(0,"p",6),d(1),r()),n&2){let t=s();p(),b(" ",t.filteredFavorites.length," de ",t.allFavorites.length," ",t.allFavorites.length===1?"personagem":"personagens"," ")}}function N(n,e){if(n&1){let t=g();i(0,"app-character-card",14),h("cardClick",function(o){l(t);let c=s(2);return _(c.openModal(o))})("toggleFavorite",function(o){l(t);let c=s(2);return _(c.remove(o.id))}),r()}if(n&2){let t=e.$implicit;v("character",t)("isFavorite",!0)}}function U(n,e){if(n&1){let t=g();i(0,"app-pagination",15),h("pageChange",function(o){l(t);let c=s(2);return _(c.onPageChange(o))}),r()}if(n&2){let t=s(2);v("currentPage",t.currentPage)("totalPages",t.totalPages)}}function A(n,e){if(n&1&&(i(0,"div",11),F(1,N,1,2,"app-character-card",12,X),r(),m(3,U,1,2,"app-pagination",13)),n&2){let t=s();p(),S(t.displayedFavorites),p(2),f(t.filteredFavorites.length>t.itemsPerPage?3:-1)}}function B(n,e){n&1&&(i(0,"div",7),u(1,"img",16),i(2,"p",17),d(3,"Nenhum favorito encontrado"),r(),i(4,"p",18),d(5,"Tente realizar uma nova busca"),r()())}function R(n,e){n&1&&(i(0,"div",8),u(1,"img",19),i(2,"p",20),d(3,"Nenhum favorito ainda!"),r(),i(4,"p",21),d(5,"Adicione personagens aos seus favoritos para v\xEA-los aqui."),r(),i(6,"a",22),d(7,"Buscar Personagens"),r()())}function q(n,e){if(n&1){let t=g();i(0,"app-character-detail",23),h("close",function(){l(t);let o=s();return _(o.selectedCharacter=null)})("toggleFavorite",function(o){l(t);let c=s();return _(c.onToggleFavorite(o))}),r()}if(n&2){let t=s();v("character",t.selectedCharacter)("allCharacters",t.allFavorites)}}var L=class n{constructor(e,t){this.favService=e;this.searchStateService=t}selectedCharacter=null;favorites$;displayedFavorites=[];allFavorites=[];filteredFavorites=[];currentPage=1;itemsPerPage=9;totalPages=0;searchTerm="";destroy$=new x;ngOnInit(){this.favorites$=this.favService.favorites$,y([this.favorites$,this.searchStateService.searchTerm$]).pipe(M(this.destroy$),P(([e,t])=>(this.allFavorites=e,this.searchTerm=t.toLowerCase(),this.searchTerm?e.filter(a=>a.name.toLowerCase().includes(this.searchTerm)||a.species.toLowerCase().includes(this.searchTerm)||a.status.toLowerCase().includes(this.searchTerm)):e))).subscribe(e=>{this.filteredFavorites=e,this.currentPage=1,this.updateDisplayedFavorites()})}updateDisplayedFavorites(){this.totalPages=Math.ceil(this.filteredFavorites.length/this.itemsPerPage);let e=(this.currentPage-1)*this.itemsPerPage,t=e+this.itemsPerPage;this.displayedFavorites=this.filteredFavorites.slice(e,t)}onPageChange(e){this.currentPage=e,this.updateDisplayedFavorites(),window.scrollTo({top:0,behavior:"smooth"})}onSearchChange(e){this.searchStateService.setSearchTerm(e)}onSuggestionSelected(e){this.openModal(e)}openModal(e){this.selectedCharacter=e}onToggleFavorite(e){this.favService.isFavorite(e)?this.favService.removeFavorite(e.id):this.favService.addFavorite(e)}remove(e){this.favService.removeFavorite(e)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.searchStateService.clearSearch()}static \u0275fac=function(t){return new(t||n)(C(I),C($))};static \u0275cmp=O({type:n,selectors:[["app-favorites"]],decls:12,vars:4,consts:[[1,"favorites-container"],[1,"favorites-container__wrapper"],[1,"favorites-container__header"],[1,"favorites-container__header__search-box"],[1,"favorites-container__header__title"],["placeholder","Buscar nos favoritos"],[1,"favorites-container__header__count"],[1,"favorites-container__error"],[1,"favorites-container__empty"],[3,"character","allCharacters"],["placeholder","Buscar nos favoritos",3,"searchChange","suggestionSelected"],[1,"favorites-container__grid"],[3,"character","isFavorite"],[3,"currentPage","totalPages"],[3,"cardClick","toggleFavorite","character","isFavorite"],[3,"pageChange","currentPage","totalPages"],["src","assets/morty-gif.gif","alt",""],[1,"favorites-container__error__title"],[1,"favorites-container__error__sub-title"],["src","assets/morty-gif.gif","alt","Morty dan\xE7ando"],[1,"favorites-container__empty__title"],[1,"favorites-container__empty__subtitle"],["routerLink","/home",1,"favorites-container__empty__button"],[3,"close","toggleFavorite","character","allCharacters"]],template:function(t,a){t&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),d(5,"Favoritos"),r(),m(6,z,1,0,"app-search-autocomplete",5),r(),m(7,j,2,3,"p",6),r(),m(8,A,4,1)(9,B,6,0,"div",7)(10,R,8,0,"div",8),r()(),m(11,q,1,2,"app-character-detail",9)),t&2&&(p(6),f(a.allFavorites.length>0?6:-1),p(),f(a.allFavorites.length>0?7:-1),p(),f(a.displayedFavorites.length>0?8:a.displayedFavorites.length==0?9:a.allFavorites.length===0?10:-1),p(3),f(a.selectedCharacter?11:-1))},dependencies:[w,k,T,V,E,D,Y],styles:["@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_fadeOutDown{0%{opacity:1;transform:translateY(0) scale(1)}to{opacity:0;transform:translateY(20px) scale(.9)}}@keyframes _ngcontent-%COMP%_scaleIn{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}@keyframes _ngcontent-%COMP%_skeletonLoading{0%{background-position:200% 0}to{background-position:-200% 0}}@keyframes _ngcontent-%COMP%_shimmer{0%{left:-100%}to{left:100%}}@keyframes _ngcontent-%COMP%_popIn{0%{transform:scale(.5)}50%{transform:scale(1.2)}to{transform:scale(1)}}@keyframes _ngcontent-%COMP%_numberPop{0%{transform:scale(1)}40%{transform:scale(1.4) rotate(5deg)}70%{transform:scale(.9) rotate(-3deg)}to{transform:scale(1) rotate(0)}}@keyframes _ngcontent-%COMP%_flipUp{0%{transform:translateY(0) rotateX(0);opacity:1}50%{transform:translateY(-100%) rotateX(90deg);opacity:0}51%{transform:translateY(100%) rotateX(-90deg);opacity:0}to{transform:translateY(0) rotateX(0);opacity:1}}@keyframes _ngcontent-%COMP%_flipDown{0%{transform:translateY(0) rotateX(0);opacity:1}50%{transform:translateY(100%) rotateX(-90deg);opacity:0}51%{transform:translateY(-100%) rotateX(90deg);opacity:0}to{transform:translateY(0) rotateX(0);opacity:1}}.favorites-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:48px 20px}.favorites-container__error[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:16px;padding:15rem;background-color:#0a0a0a;border:solid 1px #3d3d3d;border-radius:12px;margin-top:48px}.favorites-container__error[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_bounce 2s ease-in-out infinite}.favorites-container__error__title[_ngcontent-%COMP%], .favorites-container__error__sub-title[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:20px}.favorites-container__error__title[_ngcontent-%COMP%]{font-weight:700;color:#fafafa}.favorites-container__error__sub-title[_ngcontent-%COMP%]{font-weight:400;color:#a4a4a4}.favorites-container__header[_ngcontent-%COMP%]{max-width:1200px;margin-bottom:48px;align-self:flex-start}.favorites-container__header__search-box[_ngcontent-%COMP%]{display:flex;align-self:center;justify-content:space-between}.favorites-container__header__title[_ngcontent-%COMP%]{font-family:Creepster,cursive;font-size:48px;color:#00b5cc;-webkit-text-stroke:1px #b2df28;margin:0}.favorites-container__header__count[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:18px;color:#a4a4a4;margin-top:8px}.favorites-container__grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:24px;max-width:1200px;margin-bottom:24px}.favorites-container__grid[_ngcontent-%COMP%]   app-character-card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .5s ease-out backwards}.favorites-container__grid[_ngcontent-%COMP%]   app-character-card[_ngcontent-%COMP%]:nth-child(1){animation-delay:.08s}.favorites-container__grid[_ngcontent-%COMP%]   app-character-card[_ngcontent-%COMP%]:nth-child(2){animation-delay:.16s}.favorites-container__grid[_ngcontent-%COMP%]   app-character-card[_ngcontent-%COMP%]:nth-child(3){animation-delay:.24s}.favorites-container__grid[_ngcontent-%COMP%]   app-character-card[_ngcontent-%COMP%]:nth-child(4){animation-delay:.32s}.favorites-container__grid[_ngcontent-%COMP%]   app-character-card[_ngcontent-%COMP%]:nth-child(5){animation-delay:.4s}.favorites-container__grid[_ngcontent-%COMP%]   app-character-card[_ngcontent-%COMP%]:nth-child(6){animation-delay:.48s}.favorites-container__grid[_ngcontent-%COMP%]   app-character-card[_ngcontent-%COMP%]:nth-child(7){animation-delay:.56s}.favorites-container__grid[_ngcontent-%COMP%]   app-character-card[_ngcontent-%COMP%]:nth-child(8){animation-delay:.64s}.favorites-container__grid[_ngcontent-%COMP%]   app-character-card[_ngcontent-%COMP%]:nth-child(9){animation-delay:.72s}@media (max-width: 968px){.favorites-container__grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 640px){.favorites-container__grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.favorites-container__empty[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:24px;padding:80px 20px;background-color:#0a0a0a;border:solid 1px #3d3d3d;border-radius:12px;max-width:600px;text-align:center;animation:_ngcontent-%COMP%_fadeIn .6s ease-out}.favorites-container__empty[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;height:auto;animation:_ngcontent-%COMP%_bounce 2s ease-in-out infinite}.favorites-container__empty__title[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:32px;font-weight:700;color:#fafafa;margin:0}.favorites-container__empty__subtitle[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:18px;font-weight:400;color:#a4a4a4;margin:0}.favorites-container__empty__button[_ngcontent-%COMP%]{margin-top:16px;padding:12px 32px;background-color:#00b5cc;color:#fff;border:none;border-radius:12px;font-family:Poppins,sans-serif;font-weight:600;font-size:16px;text-decoration:none;cursor:pointer;transition:all .3s}.favorites-container__empty__button[_ngcontent-%COMP%]:hover{background-color:#00a8e1;transform:translateY(-2px);box-shadow:0 4px 12px #00b5cc4d}"]})};export{L as FavoritesComponent};
