import{$ as pe,A as l,B as M,C as x,D as p,E as D,F as h,G as d,H as G,I as W,J as Z,L as J,M as P,N as y,O as K,P as Q,Q as ee,R as te,S as ne,T as ae,U as oe,V as re,W as ie,X as H,Y as ce,Z as se,_ as O,a as E,aa as le,b as $,ba as _e,ca as de,d as b,e as V,f as u,g as C,h as z,i as X,j,k as R,l as I,m as r,n as N,o as _,p as v,q as U,r as B,s as f,t as g,u as q,v as T,w as Y,x as m,y as o,z as c}from"./chunk-QZ4WDFNL.js";var ue=()=>[1,2,3,4,5,6,7,8,9],Ce=(n,e)=>e.id;function ve(n,e){if(n&1&&(o(0,"p",5),d(1),c()),n&2){let t=p();r(),Z(" ",t.characters.length," ",t.characters.length===1?"personagem":"personagens"," ")}}function Pe(n,e){n&1&&l(0,"div",10)}function ye(n,e){n&1&&(o(0,"div",6),T(1,Pe,1,0,"div",10,q),c()),n&2&&(r(),Y(J(0,ue)))}function xe(n,e){if(n&1&&(o(0,"div",7),l(1,"img",11),o(2,"p",12),d(3),c(),o(4,"p",13),d(5,"Tente realizar uma nova busca"),c()()),n&2){let t=p();r(3),G(t.errorMessage)}}function be(n,e){if(n&1){let t=M();o(0,"app-character-card",15),x("toggleFavorite",function(i){u(t);let s=p(2);return C(s.onToggleFavorite(i))})("cardClick",function(i){u(t);let s=p(2);return C(s.openModal(i))}),c()}if(n&2){let t=e.$implicit,a=p(2);m("character",t)("isFavorite",a.isFavorite(t))}}function Me(n,e){if(n&1&&(o(0,"div",6),T(1,be,1,2,"app-character-card",14,Ce),c()),n&2){let t=p();r(),Y(t.displayedCharacters)}}function Oe(n,e){if(n&1){let t=M();o(0,"app-pagination",16),x("pageChange",function(i){u(t);let s=p();return C(s.onPageChange(i))}),c()}if(n&2){let t=p();m("currentPage",t.currentPage)("totalPages",t.totalPages)}}function Se(n,e){if(n&1){let t=M();o(0,"app-character-detail",17),x("close",function(){u(t);let i=p();return C(i.selectedCharacter=null)})("toggleFavorite",function(i){u(t);let s=p();return C(s.onToggleFavorite(i))}),c()}if(n&2){let t=p();m("character",t.selectedCharacter)("allCharacters",t.displayedCharacters)}}var S=class n{constructor(e,t,a){this.searchStateService=e;this.favService=t;this.characterService=a}selectedCharacter=null;characters=[];isLoading=!1;errorMessage="";currentPage=1;itemsPerPage=9;totalPages=0;destroy$=new E;ngOnInit(){this.searchStateService.results$.pipe(b(this.destroy$)).subscribe(e=>{this.characters=e,this.currentPage=1,this.updatePagination()}),this.searchStateService.loading$.pipe(b(this.destroy$)).subscribe(e=>{this.isLoading=e}),this.searchStateService.error$.pipe(b(this.destroy$)).subscribe(e=>{this.errorMessage=e}),this.searchStateService.setSearchTerm(""),this.characterService.searchCharacters("").subscribe(e=>{this.characters=e.results,this.updatePagination()})}onSearchChange(e){this.searchStateService.setSearchTerm(e)}onSuggestionSelected(e){this.openModal(e)}openModal(e){this.selectedCharacter=e}updatePagination(){this.totalPages=Math.ceil(this.characters.length/this.itemsPerPage)}get displayedCharacters(){let e=(this.currentPage-1)*this.itemsPerPage,t=e+this.itemsPerPage;return this.characters.slice(e,t)}onPageChange(e){this.currentPage=e,window.scrollTo({top:0,behavior:"smooth"})}isFavorite(e){return this.favService.isFavorite(e)}onToggleFavorite(e){this.favService.isFavorite(e)?this.favService.removeFavorite(e.id):this.favService.addFavorite(e)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(t){return new(t||n)(_(de),_(O),_(le))};static \u0275cmp=v({type:n,selectors:[["app-home"]],decls:12,vars:6,consts:[[1,"container"],[1,"container__content"],[1,"container__content__search-box"],[1,"container__content__search-box__title"],["placeholder","Pesquisar personagem",3,"searchChange","suggestionSelected"],[1,"container__content__count"],[1,"container__content__characters"],[1,"container__content__error"],[3,"currentPage","totalPages"],[3,"character","allCharacters"],[1,"skeleton-card"],["src","assets/morty-gif.gif","alt",""],[1,"container__content__error__title"],[1,"container__content__error__sub-title"],[3,"character","isFavorite"],[3,"toggleFavorite","cardClick","character","isFavorite"],[3,"pageChange","currentPage","totalPages"],[3,"close","toggleFavorite","character","allCharacters"]],template:function(t,a){t&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"p",3),d(4,"In\xEDcio"),c(),o(5,"app-search-autocomplete",4),x("searchChange",function(s){return a.onSearchChange(s)})("suggestionSelected",function(s){return a.onSuggestionSelected(s)}),c()(),f(6,ve,2,2,"p",5),f(7,ye,3,1,"div",6),f(8,xe,6,1,"div",7),f(9,Me,3,0,"div",6),f(10,Oe,1,2,"app-pagination",8),c()(),f(11,Se,1,2,"app-character-detail",9)),t&2&&(r(6),g(a.characters.length>0?6:-1),r(),g(a.isLoading?7:-1),r(),g(!a.isLoading&&a.errorMessage?8:-1),r(),g(!a.isLoading&&a.displayedCharacters.length>0?9:-1),r(),g(!a.isLoading&&a.characters.length>a.itemsPerPage?10:-1),r(),g(a.selectedCharacter?11:-1))},dependencies:[ee,ce,se,pe,_e],styles:['@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_fadeOutDown{0%{opacity:1;transform:translateY(0) scale(1)}to{opacity:0;transform:translateY(20px) scale(.9)}}@keyframes _ngcontent-%COMP%_scaleIn{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}@keyframes _ngcontent-%COMP%_skeletonLoading{0%{background-position:200% 0}to{background-position:-200% 0}}@keyframes _ngcontent-%COMP%_shimmer{0%{left:-100%}to{left:100%}}@keyframes _ngcontent-%COMP%_popIn{0%{transform:scale(.5)}50%{transform:scale(1.2)}to{transform:scale(1)}}@keyframes _ngcontent-%COMP%_numberPop{0%{transform:scale(1)}40%{transform:scale(1.4) rotate(5deg)}70%{transform:scale(.9) rotate(-3deg)}to{transform:scale(1) rotate(0)}}@keyframes _ngcontent-%COMP%_flipUp{0%{transform:translateY(0) rotateX(0);opacity:1}50%{transform:translateY(-100%) rotateX(90deg);opacity:0}51%{transform:translateY(100%) rotateX(-90deg);opacity:0}to{transform:translateY(0) rotateX(0);opacity:1}}@keyframes _ngcontent-%COMP%_flipDown{0%{transform:translateY(0) rotateX(0);opacity:1}50%{transform:translateY(100%) rotateX(-90deg);opacity:0}51%{transform:translateY(-100%) rotateX(90deg);opacity:0}to{transform:translateY(0) rotateX(0);opacity:1}}.container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.container__content__count[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:18px;color:#a4a4a4;padding-bottom:48px}.container__content__error[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:16px;padding:15rem;background-color:#0a0a0a;border:solid 1px #3d3d3d;border-radius:12px;margin-top:48px}.container__content__error[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_bounce 2s ease-in-out infinite}.container__content__error__title[_ngcontent-%COMP%], .container__content__error__sub-title[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:20px}.container__content__error__title[_ngcontent-%COMP%]{font-weight:700;color:#fafafa}.container__content__error__sub-title[_ngcontent-%COMP%]{font-weight:400;color:#a4a4a4}.container__content__search-box[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:48px 0 13px}.container__content__search-box__title[_ngcontent-%COMP%]{font-family:Creepster,cursive;font-size:48px;color:#00b5cc;-webkit-text-stroke:4px #b2df28}.container__content__search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:1px solid #3d3d3d;background-color:transparent;color:#cacaca;border-radius:12px;outline:none;padding:20px;width:327px}.container__content__search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#cacaca;font-family:Poppins,sans-serif;font-size:16px}.container__content__characters[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:24px;padding-bottom:48px;min-height:600px}.container__content__characters[_ngcontent-%COMP%]   app-character-card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .5s ease-out backwards}.container__content__characters[_ngcontent-%COMP%]   app-character-card[_ngcontent-%COMP%]:nth-child(1){animation-delay:.08s}.container__content__characters[_ngcontent-%COMP%]   app-character-card[_ngcontent-%COMP%]:nth-child(2){animation-delay:.16s}.container__content__characters[_ngcontent-%COMP%]   app-character-card[_ngcontent-%COMP%]:nth-child(3){animation-delay:.24s}.container__content__characters[_ngcontent-%COMP%]   app-character-card[_ngcontent-%COMP%]:nth-child(4){animation-delay:.32s}.container__content__characters[_ngcontent-%COMP%]   app-character-card[_ngcontent-%COMP%]:nth-child(5){animation-delay:.4s}.container__content__characters[_ngcontent-%COMP%]   app-character-card[_ngcontent-%COMP%]:nth-child(6){animation-delay:.48s}.container__content__characters[_ngcontent-%COMP%]   app-character-card[_ngcontent-%COMP%]:nth-child(7){animation-delay:.56s}.container__content__characters[_ngcontent-%COMP%]   app-character-card[_ngcontent-%COMP%]:nth-child(8){animation-delay:.64s}.container__content__characters[_ngcontent-%COMP%]   app-character-card[_ngcontent-%COMP%]:nth-child(9){animation-delay:.72s}@media (max-width: 968px){.container__content__characters[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 640px){.container__content__characters[_ngcontent-%COMP%]{grid-template-columns:1fr}}.input-container[_ngcontent-%COMP%]{position:relative;width:327px;padding:2px;background:linear-gradient(90deg,#00b5cc,#b2df28);border-radius:12px;transition:all .3s ease;opacity:.3}.input-container[_ngcontent-%COMP%]:focus-within{opacity:1;box-shadow:0 0 20px #00b5cc4d}.input-container[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]{width:100%;padding:24px 16px 8px;border:none;border-radius:10px;background-color:#0a0a0a;color:#cacaca;font-family:Poppins,sans-serif;font-size:16px;outline:none;transition:all .3s ease}.input-container[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]::placeholder{color:transparent}.input-container[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]:focus ~ .input-label[_ngcontent-%COMP%], .input-container[_ngcontent-%COMP%]   .input-field[_ngcontent-%COMP%]:not(:placeholder-shown) ~ .input-label[_ngcontent-%COMP%]{top:20px;font-size:12px;color:#00b5cc;font-weight:600}.input-container[_ngcontent-%COMP%]   .input-label[_ngcontent-%COMP%]{position:absolute;left:18px;top:50%;transform:translateY(-50%);color:#a4a4a4;font-family:Poppins,sans-serif;font-size:16px;pointer-events:none;transition:all .3s cubic-bezier(.4,0,.2,1);padding:0 6px}.skeleton-card[_ngcontent-%COMP%]{border:2px solid #3d3d3d;border-radius:12px;height:380px;width:308px;position:relative;overflow:hidden;background:linear-gradient(90deg,#0a0a0a,#1a1a1a,#0a0a0a);background-size:200% 100%;animation:_ngcontent-%COMP%_skeletonLoading 1.5s ease-in-out infinite}.skeleton-card[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.05),transparent);animation:_ngcontent-%COMP%_shimmer 2s infinite}']})};var L=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:S},{path:"favorites",loadComponent:()=>import("./chunk-FOZFR5BO.js").then(n=>n.FavoritesComponent)},{path:"**",redirectTo:"home"}],fe=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=U({type:n});static \u0275inj=V({imports:[H.forRoot(L,{useHash:!0}),H]})};var ge={providers:[z(),K({eventCoalescing:!0}),ne(),ie(L)]};var w=class n{constructor(e,t){this.el=e;this.renderer=t}appCounterAnimation=0;previousValue=0;ngOnChanges(e){if(e.appCounterAnimation&&!e.appCounterAnimation.firstChange){let t=e.appCounterAnimation.currentValue,a=e.appCounterAnimation.previousValue;t!==a&&this.animateChange(a,t)}else this.previousValue=this.appCounterAnimation}animateChange(e,t){let a=this.el.nativeElement,i=t<e?"up":"down";this.renderer.removeClass(a,"flip-up"),this.renderer.removeClass(a,"flip-down"),a.offsetWidth,this.renderer.addClass(a,`flip-${i}`),setTimeout(()=>{this.renderer.removeClass(a,`flip-${i}`)},600)}static \u0275fac=function(t){return new(t||n)(_(R),_(N))};static \u0275dir=B({type:n,selectors:[["","appCounterAnimation",""]],inputs:{appCounterAnimation:"appCounterAnimation"},features:[j]})};var F=class n{constructor(e){this.favoritesService=e;this.favoritesCount$=this.favoritesService.favorites$.pipe($(t=>t.length))}favoritesCount$;static \u0275fac=function(t){return new(t||n)(_(O))};static \u0275cmp=v({type:n,selectors:[["app-header"]],decls:21,vars:28,consts:[["homeLink","routerLinkActive"],["favLink","routerLinkActive"],[1,"header-container"],["routerLink","/home","src","assets/rick-and-morty-logo.svg","alt","Rick and Morty Logo",1,"logo"],[1,"header-container__tab-container"],[1,"header-container__tab-container__home"],["alt","home icon",3,"src"],["routerLink","/home","routerLinkActive","active",1,"header-container__tab-container__tab"],[1,"header-container__tab-container__favorites"],["alt","",3,"src"],["routerLink","/favorites","routerLinkActive","active",1,"header-container__tab-container__tab"],[1,"header-container__tab-container__favorites__favorites-count"],[1,"header-container__tab-container__favorites__favorites-count__count-number",3,"appCounterAnimation"]],template:function(t,a){if(t&1&&(o(0,"header",2),l(1,"img",3),o(2,"div",4)(3,"div",5),l(4,"img",6),o(5,"a",7,0),d(7,"In\xEDcio"),c()(),o(8,"div",8),l(9,"img",9),o(10,"a",10,1),d(12,"Favoritos"),c(),o(13,"div",11),P(14,"async"),P(15,"async"),o(16,"span",12),P(17,"async"),P(18,"async"),d(19),P(20,"async"),c()()()()()),t&2){let i=D(6),s=D(11);r(3),h("background",i.isActive?"white":"transparent"),r(),m("src",i.isActive?"assets/home-icon.svg":"assets/home-icon-white.svg",I),r(),h("color",i.isActive?"#0A0A0A":"#A4A4A4"),r(3),h("background",s.isActive?"white":"transparent"),r(),m("src",s.isActive?"assets/heart-icon-filled.svg":"assets/heart-icon-gray.svg",I),r(),h("color",s.isActive?"#0A0A0A":"#A4A4A4"),r(3),h("background",(y(14,18,a.favoritesCount$)??0)>0&&!s.isActive?"#FFFFFF":"#0A0A0A")("border",(y(15,20,a.favoritesCount$)??0)>0?"none":"1px solid #3D3D3D"),r(3),h("color",s.isActive||(y(17,22,a.favoritesCount$)??0)===0?"#FFFFFF":"#0A0A0A"),m("appCounterAnimation",y(18,24,a.favoritesCount$)??0),r(3),W(" ",y(20,26,a.favoritesCount$)??0," ")}},dependencies:[re,oe,w,Q],styles:["@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_fadeOutDown{0%{opacity:1;transform:translateY(0) scale(1)}to{opacity:0;transform:translateY(20px) scale(.9)}}@keyframes _ngcontent-%COMP%_scaleIn{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}@keyframes _ngcontent-%COMP%_skeletonLoading{0%{background-position:200% 0}to{background-position:-200% 0}}@keyframes _ngcontent-%COMP%_shimmer{0%{left:-100%}to{left:100%}}@keyframes _ngcontent-%COMP%_popIn{0%{transform:scale(.5)}50%{transform:scale(1.2)}to{transform:scale(1)}}@keyframes _ngcontent-%COMP%_numberPop{0%{transform:scale(1)}40%{transform:scale(1.4) rotate(5deg)}70%{transform:scale(.9) rotate(-3deg)}to{transform:scale(1) rotate(0)}}@keyframes _ngcontent-%COMP%_flipUp{0%{transform:translateY(0) rotateX(0);opacity:1}50%{transform:translateY(-100%) rotateX(90deg);opacity:0}51%{transform:translateY(100%) rotateX(-90deg);opacity:0}to{transform:translateY(0) rotateX(0);opacity:1}}@keyframes _ngcontent-%COMP%_flipDown{0%{transform:translateY(0) rotateX(0);opacity:1}50%{transform:translateY(100%) rotateX(-90deg);opacity:0}51%{transform:translateY(-100%) rotateX(90deg);opacity:0}to{transform:translateY(0) rotateX(0);opacity:1}}.header-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;background-color:#0a0a0a;height:80px;padding:0 24px;border-bottom:1px solid #3d3d3d}.header-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer}.header-container__tab-container[_ngcontent-%COMP%]{display:flex;border:1px solid #3d3d3d;border-radius:12px}.header-container__tab-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{padding:.7rem;font-family:Poppins,sans-serif;font-size:16px;font-weight:600}.header-container__tab-container__home[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center;border-radius:12px 0 0 12px}.header-container__tab-container__favorites[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center;background-color:transparent;border-radius:0 12px 12px 0}.header-container__tab-container__favorites[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition:all .3s ease}.header-container__tab-container__favorites__favorites-count[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-weight:400;color:#0a0a0a;min-width:30px;height:30px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:12px;padding:0 6px}.header-container__tab-container__favorites__favorites-count__count-number[_ngcontent-%COMP%]{display:block}.header-container__tab-container__favorites__favorites-count__count-number.flip-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_flipUp .6s cubic-bezier(.68,-.55,.265,1.55)}.header-container__tab-container__favorites__favorites-count__count-number.flip-down[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_flipDown .6s cubic-bezier(.68,-.55,.265,1.55)}a[_ngcontent-%COMP%]{text-decoration:none;color:inherit}"]})};var A=class n{title=X("rickAndMortyApp");static \u0275fac=function(t){return new(t||n)};static \u0275cmp=v({type:n,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"container"]],template:function(t,a){t&1&&(l(0,"app-header"),o(1,"main",0),l(2,"router-outlet"),c())},dependencies:[ae,F],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]})};te(A,ge).catch(n=>console.error(n));
